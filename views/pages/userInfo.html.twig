{% extends "../layout/base.html.twig" %}

{% block title %}
	<title>Mon Profil</title>
{% endblock %}

{% block main %}
<main class="min-h-screen bg-gray-50 py-10 px-4 flex items-center justify-center">
	<div class="max-w-3xl w-full bg-white p-8 rounded-2xl shadow-xl transform transition-all duration-300 hover:shadow-2xl">
		
		<!-- Header -->
		<div class="flex justify-between items-center mb-8">
			<h2 class="text-3xl font-bold text-gray-900">Mon Profil</h2>
			<a href="/logout" class="text-red-500 hover:text-red-600 text-sm font-semibold transition duration-300">
				Se déconnecter
			</a>
		</div>

		<!-- Informations Utilisateur -->
		<div class="bg-gray-100 p-6 rounded-lg shadow-inner">
			<!-- Mode Affichage -->
			<div id="infoView" class="space-y-4">
				<div class="space-y-2">
					<p class="text-gray-700"><span class="font-semibold">Nom :</span> {{ user.firstName }}</p>
					<p class="text-gray-700"><span class="font-semibold">Prénom :</span> {{ user.lastName }}</p>
					<p class="text-gray-700"><span class="font-semibold">Email :</span> {{ user.email }}</p>
					<p class="text-gray-700"><span class="font-semibold">Téléphone :</span> {{ user.phone }}</p>
				</div>
				
				<!-- Bouton Modifier -->
				<button id="editBtn" class="mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105">
					Modifier
				</button>
			</div>

			<!-- Mode Édition -->
			<form id="editForm" action="/editUser" method="post" class="hidden space-y-6">
				<div class="space-y-4">
					<div>
						<label class="block text-gray-700 font-semibold mb-2">Nom</label>
						<input type="text" name="firstName" value="{{ user.firstName }}" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300">
					</div>
					<div>
						<label class="block text-gray-700 font-semibold mb-2">Prénom</label>
						<input type="text" name="lastName" value="{{ user.lastName }}" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300">
					</div>
					<div>
						<label class="block text-gray-700 font-semibold mb-2">Email</label>
						<input type="email" name="email" value="{{ user.email }}" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300">
					</div>
					<div>
						<label class="block text-gray-700 font-semibold mb-2">Téléphone</label>
						<input type="text" name="phone" value="{{ user.phone }}" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300">
					</div>
				</div>

				<div class="flex justify-end space-x-4">
					<button type="button" id="cancelBtn" class="px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-300 transform hover:scale-105">
						Annuler
					</button>
					<button type="submit" class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition duration-300 transform hover:scale-105">
						Enregistrer
					</button>
				</div>
			</form>
		</div>
	</div>
</main>

<script>
	document.getElementById("editBtn").addEventListener("click", function () {
		document.getElementById("infoView").classList.add("hidden");
		document.getElementById("editForm").classList.remove("hidden");
	});

	document.getElementById("cancelBtn").addEventListener("click", function () {
		document.getElementById("infoView").classList.remove("hidden");
		document.getElementById("editForm").classList.add("hidden");
	});
</script>

{% endblock %}